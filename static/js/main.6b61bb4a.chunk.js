(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(t,e,n){},129:function(t,e,n){},130:function(t,e,n){"use strict";n.r(e);var r=n(7),o=n.n(r),c=n(59),a=n.n(c),i=(n(64),n(22),n(65),n(66),n(20)),s=n(1),l=n.n(s),d=n(21),u=n(28),w=n.n(u),h=w()("production");function p(){return(p=Object(i.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.connect)(Object.assign({deps:{keyStore:new d.keyStores.BrowserLocalStorageKeyStore}},h));case 2:return e=t.sent,window.walletConnection=new d.WalletConnection(e),window.accountId=window.walletConnection.getAccountId(),t.next=7,new d.Contract(window.walletConnection.account(),h.contractName,{viewMethods:["nft_tokens"],changeMethods:["nft_mint"]});case 7:window.contract=t.sent;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){window.walletConnection.signOut(),window.location.replace(window.location.origin+window.location.pathname)}function b(){window.walletConnection.requestSignIn(h.contractName)}var f=n(0);function O(){return Object(f.jsxs)("main",{children:[Object(f.jsx)("h1",{children:"Welcome to NEAR!"}),Object(f.jsx)("p",{children:"To make use of the NEAR blockchain, you need to sign in. The button below will sign you in using NEAR Wallet."}),Object(f.jsx)("p",{children:'By default, when your app runs in "development" mode, it connects to a test network ("testnet") wallet. This works just like the main network ("mainnet") wallet, but the NEAR Tokens on testnet aren\'t convertible to other currencies \u2013 they\'re just for testing!'}),Object(f.jsx)("p",{children:"Go ahead and click the button below to try it out:"}),Object(f.jsx)("p",{style:{textAlign:"center",marginTop:"2.5em"},children:Object(f.jsx)("button",{onClick:b,children:"Sign in"})})]})}var m=n(29);n(128);function g(){return Object(f.jsx)("div",{className:"mint",children:Object(f.jsx)("img",{src:"https://ipfs.io/ipfs/bafkreihfkpgxnj2qbn7s46qmocqjrslbirarzsb3kx34g7bissojrcnl5q",alt:"NFT image"})})}var x=n(8),k=n.n(x),v=(n(129),w()("production").networkId);function S(){var t=o.a.useState(!0),e=Object(m.a)(t,2),n=(e[0],e[1],o.a.useState(!1)),c=Object(m.a)(n,2),a=c[0],s=c[1],d=o.a.useState(!1),u=Object(m.a)(d,2),w=u[0];u[1];Object(r.useEffect)((function(){var t=function(){var t=Object(i.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.contract.nft_tokens();case 2:e=t.sent,n=e.some((function(t){return t.token_id==="".concat(window.accountId,"-tanya-go-verse-token-5")})),""!==window.accountId&&(console.log(n),s(n));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var h=function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("window.accountId",window.accountId),t.next=3,window.contract.nft_mint({receiver_id:window.accountId,token_id:"".concat(window.accountId,"-tanya-go-verse-token-5"),metadata:{title:"Support Ukraine NFT",description:"Support Ukraine NFT with verse of Tanya GO Kharkiv poetess who run from war and left her home...",media:"https://ipfs.io/ipfs/bafkreihfkpgxnj2qbn7s46qmocqjrslbirarzsb3kx34g7bissojrcnl5q"}},3e14,new k.a("1000000000000000000000000"));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{className:"header",children:Object(f.jsx)("button",{className:"link",style:{float:"right"},onClick:j,children:"Sign out"})}),Object(f.jsxs)("main",{className:"main",children:[Object(f.jsx)(g,{}),Object(f.jsx)("div",{className:"mint-button",children:Object(f.jsx)("button",{disabled:a,onClick:h,children:"Mint"})})]}),w&&Object(f.jsx)(_,{})]})}function _(){var t="https://explorer.".concat(v,".near.org/accounts");return Object(f.jsxs)("aside",{children:[Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(t,"/").concat(window.accountId),children:window.accountId})," ","called method: 'set_greeting' in contract:"," ",Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(t,"/").concat(window.contract.contractId),children:window.contract.contractId}),Object(f.jsxs)("footer",{children:[Object(f.jsx)("div",{children:"\u2714 Succeeded"}),Object(f.jsx)("div",{children:"Just now"})]})]})}function N(){return window.walletConnection.isSignedIn()?Object(f.jsx)(S,{}):Object(f.jsx)(O,{})}window.nearInitPromise=function(){return p.apply(this,arguments)}().then((function(){a.a.render(Object(f.jsx)(N,{}),document.querySelector("#root"))})).catch(console.error)},28:function(t,e){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"nftexample.nfspring.testnet";t.exports=function(t){switch(t){case"production":case"mainnet":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:n,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org",explorerUrl:"https://explorer.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:n,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:n,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(t,"'. Can be configured in src/config.js."))}}},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},72:function(t,e){},82:function(t,e){}},[[130,1,2]]]);
//# sourceMappingURL=main.6b61bb4a.chunk.js.map